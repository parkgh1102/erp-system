# Azure 배포용 환경 변수 예시
# 이 파일을 복사해서 .env.azure로 만들고 실제 값으로 변경하세요

# ======================
# Backend 환경 변수
# ======================

# Node 환경
NODE_ENV=production
PORT=8080

# JWT 보안 키 (최소 32자 이상의 랜덤 문자열)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# PostgreSQL 데이터베이스 설정
DB_TYPE=postgres
DB_HOST=erp-postgres-xxxxx.postgres.database.azure.com
DB_PORT=5432
DB_USERNAME=erpadmin
DB_PASSWORD=YourStrongPassword123!
DB_DATABASE=erp_system
DB_SSL=true

# CORS 설정 (프론트엔드 URL)
CLIENT_URL=https://erp-frontend.azurestaticapps.net

# Cloudinary 이미지 업로드 (선택사항)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Google AI (선택사항)
GOOGLE_AI_API_KEY=your-google-ai-api-key

# 세션 비밀키 (최소 32자)
SESSION_SECRET=your-session-secret-key-change-this-min-32-chars

# ======================
# Frontend 환경 변수
# ======================

# Backend API URL
VITE_API_URL=https://erp-backend-xxxxx.azurewebsites.net/api

# 앱 정보
VITE_APP_NAME=ERP 통합시스템
VITE_APP_VERSION=1.0.0

# ======================
# Azure CLI 명령어
# ======================

# Backend 환경 변수 일괄 설정:
# az webapp config appsettings set \
#   --resource-group erp-system-rg \
#   --name erp-backend-xxxxx \
#   --settings \
#     NODE_ENV=production \
#     PORT=8080 \
#     JWT_SECRET="your-jwt-secret" \
#     DB_TYPE=postgres \
#     DB_HOST="erp-postgres-xxxxx.postgres.database.azure.com" \
#     DB_PORT=5432 \
#     DB_USERNAME=erpadmin \
#     DB_PASSWORD="YourStrongPassword123!" \
#     DB_DATABASE=erp_system \
#     DB_SSL=true \
#     CLIENT_URL="https://erp-frontend.azurestaticapps.net"

# Frontend 환경 변수 설정 (Static Web Apps):
# Azure Portal → Static Web App → 구성 → 애플리케이션 설정에서 추가
# 또는 frontend/.env.production 파일 생성

# ======================
# 보안 주의사항
# ======================

# 1. JWT_SECRET과 SESSION_SECRET은 반드시 강력한 랜덤 문자열로 변경
# 2. DB_PASSWORD는 영문 대소문자, 숫자, 특수문자 조합 (최소 8자)
# 3. 이 파일은 절대 Git에 커밋하지 말 것 (.gitignore에 포함)
# 4. 프로덕션 환경에서는 Azure Key Vault 사용 권장

# ======================
# 데이터베이스 연결 문자열
# ======================

# 전체 연결 문자열 형식:
# postgresql://erpadmin:YourStrongPassword123!@erp-postgres-xxxxx.postgres.database.azure.com:5432/erp_system?ssl=true

# ======================
# 유용한 명령어
# ======================

# 환경 변수 확인:
# az webapp config appsettings list --resource-group erp-system-rg --name erp-backend-xxxxx

# 환경 변수 개별 추가:
# az webapp config appsettings set --resource-group erp-system-rg --name erp-backend-xxxxx --settings KEY=VALUE

# 환경 변수 삭제:
# az webapp config appsettings delete --resource-group erp-system-rg --name erp-backend-xxxxx --setting-names KEY

# 로그 확인:
# az webapp log tail --resource-group erp-system-rg --name erp-backend-xxxxx
